
<?php include("connection.php");?>
<!DOCTYPE html>

<html lang="en">

<head>

	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="Dividend Income Ladder">
	<meta name="author" content="Dividend Income Ladder">
    
	<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
	<!-- Optional theme -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap-theme.min.css">
	<!-- Latest compiled and minified JavaScript -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
	<link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.3/themes/smoothness/jquery-ui.css" />
	<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.3/jquery-ui.min.js"></script>
		    
	<link href="http://fonts.googleapis.com/css?family=Goudy+Bookletter+1911" rel="stylesheet" type="text/css">
	<link href="http://fonts.googleapis.com/css?family=Raleway:100" rel="stylesheet" type="text/css">
	
	<link rel="stylesheet" type="text/css" href="index.css">
	
	<title>Build Your Own Dividend Income Ladder</title>
	




</head>

<body>

	<nav class="navbar navbar-default navbar-fixed-top">
		<div class="container">
		  	<div class="navbar-header">
			     		<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
					        <span class="sr-only">Toggle navigation</span>
					        <span class="icon-bar"></span>
					        <span class="icon-bar"></span>
					        <span class="icon-bar"></span>
			      		</button>
		      		<a role="presentation" class="active navbar-brand" href="http://www.dividendincomeladder.com"><span class="glyphicon glyphicon-home" aria-hidden="true"></span> Dividend Income Ladder</a>
		    	</div>  
	<!-- Collect the nav links, forms, and other content for toggling -->
			<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
				<ul class="nav navbar-nav">
					<li role="presentation"><a href="http://www.dividendincomeladder.com/builder.html"><span class="glyphicon glyphicon-wrench " aria-hidden="true"></span> Build Your Own Ladder <span class="sr-only">(current)</span></a></li>
					<li role="presentation"><a href="http://www.dividendincomeladder.com/dividend-ladder-guide.html"><span class="glyphicon glyphicon-education " aria-hidden="true"></span> The Dividend Ladder Guide <span class="sr-only">(current)</span></a></li>
				</ul>
			</div>
			
		</div>
	</nav>
	
	<div class="container-fluid">
		<div class="starter-template">
		<div class="col-md-6 col-md-offset-3">
			<br/>
			<div id="targetStockNumber">
				<p> How many stocks would you like to add to your Dividend Income Ladder?</p>
				<br/>
				<input type="text" id="stocks" name="stocks" value="">   <button id="stockSubmit" class="submit">Submit</button>
				
			</div>
			<br/>
			<br/>
		</div>
		</div>
	</div>

	<div class="container-fluid">
		<div class="starter-template">
		<div class="col-md-6 col-md-offset-3">
			<br/>

			<div id="container2"> 
				<form method="post" class="form" role="form" id="tickForm">
				</form>
			</div>
		</div>
		</div>
	</div>
			
	<div class="container-fluid">
		<div class="starter-template">
		<div class="col-md-6 col-md-offset-3">
			<br/>

			<div id="divIncTable">
				<table id="divIncLadder">
					<div id="headRow">
						<tr>
							<th>Company</th>
						</tr>
					</div><br/><br/>
					<div id="companyRows"></div>
				</table>
			</div>
		</div>	
		</div>
	</div>


<script type="text/javascript" language="javascript">
	//Allows hitting enter to function as a mouse click
	//on the first button the user sees
	$(document).ready(function() {
		$('#stocks').keypress(function(e) {
		if(e.keyCode==13)
		$('#stockSubmit').click();
		});
		});			
	$(document).ready(function () {
		$('#stockSubmit').click (function() {
			var inp = $('#stocks').val();
			var numberRegex = /^[+-]?\d+(\.\d+)?([eE][+-]?\d+)?$/;
			if(jQuery.trim(inp).length == 0) {
				var errMsgBlank;
				errMsgBlank = "Cannot be blank. Please enter a number.";
				alert(errMsgBlank);
			}
			else if(!(numberRegex.test(inp))) {
				var errMsgNum;
				errMsgNum = "Must be a number. Please enter a number.";
				alert(errMsgNum);
			}
			else if((jQuery.trim(inp).length > 0) && (numberRegex.test(inp))) {
				$("#targetStockNumber").fadeOut( 'slow');
			for(i=0;i<inp;i++){
				$('<div id="companyNameLabel" />').fadeIn('slow').appendTo('#tickForm');
				$('<div><input type="text" id="tickInp" class="field" name="dynamic[]" value="" /></div>').fadeIn('slow').appendTo('#companyNameLabel');
				$('<div><br/><br/></div>').fadeIn('slow').appendTo('#tickInp');
			}
			$('<div><input name="submit" type="button" id="tickSub" class="submit" value="Submit" /></div>').fadeIn('slow').appendTo('#container2');
			$("#container2").delay( 800 ).fadeIn( 'slow');//GOOD
			$('#tickSub').click (function() {
				$("#container2").fadeOut('slow');//GOOD
				var answers = [];
				$.each($('.field'),function() {
					answers.push($(this).val());
				});
				if(answers.length == 0) {
					answers="none";
				}
				var numAns = answers.length;

				for(i=0;i<inp;i++) {
				$.each(answers, function(index, value) {
					alert(value);
				});
				return false;
				}
		});
		}	
	});
	});
			
</script>
		
</body>